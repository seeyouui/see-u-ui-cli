/* =========================================================
 * 1. SCSS 静态变量定义 (供 JS 或非 CSS 变量场景使用)
 * ========================================================= */
// 文字颜色
$see-main-color: #2e2f33;
$see-content-color: #5a5c60;
$see-tips-color: #8c8e93;
$see-light-color: #c9ccd1;

// 边框颜色
$see-border-color: #aeb0b4;
$see-border-two-color: #c3c5c8;
$see-border-three-color: #d9dadc;
$see-border-four-color: #eceff1;

// 背景颜色
$see-bg-light-color: #f6faff;
$see-bg-dark-color: #1e222a;

// 主色
$see-primary: #3ca7ff;
$see-primary-dark: #208ee8;
$see-primary-disabled: #a8d8ff;
$see-primary-light: #e9f6ff;

// 警告
$see-warning: #ffb645;
$see-warning-dark: #f0a233;
$see-warning-disabled: #ffd9a6;
$see-warning-light: #fff6e8;

// 成功
$see-success: #37d497;
$see-success-dark: #2bb881;
$see-success-disabled: #b6efd9;
$see-success-light: #f2fff9;

// 错误
$see-error: #ff6b6b;
$see-error-dark: #e85b5b;
$see-error-disabled: #ffbaba;
$see-error-light: #fff2f2;

// 默认
$see-info: #8a8f99;
$see-info-dark: #6e737c;
$see-info-disabled: #d2d5d9;
$see-info-light: #f5f6f7;

// 背景文字颜色
$see-text: #ffffff;
$see-dark-text: #ffffff;
$see-disabled-text: #f2f3f5;
$see-light-text: #aeb0b4;

/* =========================================================
 * 2. 定义浅色模式变量集 (Mixin) - NEW
 * ========================================================= */
@mixin light-theme-vars {
  /* ---------- 文字颜色 ---------- */
  --see-main-color: #2e2f33;
  --see-content-color: #5a5c60;
  --see-tips-color: #8c8e93;
  --see-light-color: #c9ccd1;

  /* ---------- 边框颜色 ---------- */
  --see-border-color: #aeb0b4;
  --see-border-two-color: #c3c5c8;
  --see-border-three-color: #d9dadc;
  --see-border-four-color: #eceff1;

  /* ---------- 背景颜色 ---------- */
  --see-bg-color: #ffffff; /* 你之前修改为白色了，保持不变 */

  /* ---------- 主色 ---------- */
  --see-primary: #3ca7ff;
  --see-primary-dark: #208ee8;
  --see-primary-disabled: #a8d8ff;
  --see-primary-light: #e9f6ff;

  /* ---------- 警告 ---------- */
  --see-warning: #ffb645;
  --see-warning-dark: #f0a233;
  --see-warning-disabled: #ffd9a6;
  --see-warning-light: #fff6e8;

  /* ---------- 成功 ---------- */
  --see-success: #37d497;
  --see-success-dark: #2bb881;
  --see-success-disabled: #b6efd9;
  --see-success-light: #f2fff9;

  /* ---------- 错误 ---------- */
  --see-error: #ff6b6b;
  --see-error-dark: #e85b5b;
  --see-error-disabled: #ffbaba;
  --see-error-light: #fff2f2;

  /* ---------- 默认 / info ---------- */
  --see-info: #f8f8f8;
  --see-info-text: #303133;
  --see-info-dark: #6e737c;
  --see-info-border: #e5e5e5;
  --see-info-disabled: #ebeef5;
  --see-info-light: #f2f3f5;

  /* ---------- 背景文字 ---------- */
  --see-text: #ffffff;
  --see-dark-text: #ffffff;
  --see-disabled-text: #f2f3f5;
  --see-light-text: #aeb0b4;
}

/* =========================================================
 * 3. 定义暗黑模式变量集 (Mixin)
 * ========================================================= */
@mixin dark-theme-vars {
  /* ---------- 文字颜色 ---------- */
  --see-main-color: #e5e6eb;
  --see-content-color: #c9cdd4;
  --see-tips-color: #9ea3ab;
  --see-light-color: #6b7078;

  /* ---------- 边框颜色 ---------- */
  --see-border-color: #3a3f45;
  --see-border-two-color: #2f3338;
  --see-border-three-color: #262a30;
  --see-border-four-color: #1f2328;

  /* ---------- 背景颜色 ---------- */
  --see-bg-color: #14171d;

  /* ---------- 主色 ---------- */
  --see-primary: #3ca7ff;
  --see-primary-dark: #1d7fd6;
  --see-primary-disabled: #244a66;
  --see-primary-light: rgba(60, 167, 255, 0.15);

  /* ---------- 警告 ---------- */
  --see-warning: #ffb645;
  --see-warning-dark: #e09a2d;
  --see-warning-disabled: #5a4424;
  --see-warning-light: rgba(255, 182, 69, 0.15);

  /* ---------- 成功 ---------- */
  --see-success: #37d497;
  --see-success-dark: #2aa372;
  --see-success-disabled: #245b4a;
  --see-success-light: rgba(55, 212, 151, 0.15);

  /* ---------- 错误 ---------- */
  --see-error: #ff6b6b;
  --see-error-dark: #d55555;
  --see-error-disabled: #5a2e2e;
  --see-error-light: rgba(255, 107, 107, 0.15);

  /* ---------- 默认 / info ---------- */
  --see-info: #343434;
  --see-info-text: #ffffff;
  --see-info-dark: #7a808a;
  --see-info-border: #4c4c4c;
  --see-info-disabled: #2b2b2b;
  --see-info-light: rgba(255, 255, 255, 0.08);

  /* ---------- 背景文字 ---------- */
  --see-text: #ffffff;
  --see-dark-text: #ffffff;
  --see-disabled-text: rgba(255, 255, 255, 0.4);
  --see-light-text: #8b9098;
}

/* 4.1 默认状态 (Default) */
:root,
page {
  @include light-theme-vars;
}

/* 4.2 系统自动暗黑 (System Dark) */
@media (prefers-color-scheme: dark) {
  :root,
  page {
    @include dark-theme-vars;
  }
}

/* 4.3 手动强制暗黑 (Manual Class Dark) - ⚠️ 核心修复 */
.see-theme-dark {
  /* 1. 让 html 根节点变黑 */
  @include dark-theme-vars;

  /* 2. 关键：强制覆盖 page 的默认浅色设置 
     意思是：当 .see-theme-dark 存在时，它下面的 page 标签也要用深色变量 */
  & page,
  & uni-page-body {
    @include dark-theme-vars;
  }

  .uni-page-head,
  .uni-tabbar .uni-tabbar__item {
    background: #14171d !important;
    color: #ffffff !important;
    svg path {
      fill: #ffffff !important;
    }
  }
  .uni-tabbar .uni-tabbar-border {
    background: #3a3f45 !important;
  }
}

/* 4.4 手动强制明亮 (Manual Class Light) - ⚠️ 核心修复 */
.see-theme-light {
  @include light-theme-vars;

  /* 同理：强制覆盖可能存在的系统暗黑设置 */
  & page,
  & uni-page-body {
    @include light-theme-vars;
  }

  .uni-page-head,
  .uni-tabbar .uni-tabbar__item {
    background: #ffffff !important;
    color: #14171d !important;

    svg path {
      fill: #14171d !important;
    }
  }
  .uni-tabbar .uni-tabbar-border {
    background: #aeb0b4 !important;
  }
}
